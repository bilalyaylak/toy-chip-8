const FONT: [u8; 80] = [
    //0
    0b1111_0000,
    0b1001_0000,
    0b1001_0000,
    0b1001_0000,
    0b1111_0000,
    //1
    0b0010_0000,
    0b0110_0000,
    0b0010_0000,
    0b0010_0000,
    0b0111_0000,
    //2
    0b1111_0000,
    0b0001_0000,
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    //3
    0b1111_0000,
    0b0001_0000,
    0b1111_0000,
    0b0001_0000,
    0b1111_0000,
    //4
    0b1001_0000,
    0b1001_0000,
    0b1111_0000,
    0b0001_0000,
    0b0001_0000,
    //5
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    0b0001_0000,
    0b1111_0000,
    //6
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    0b1001_0000,
    0b1111_0000,
    //7
    0b1111_0000,
    0b0001_0000,
    0b0010_0000,
    0b0100_0000,
    0b0100_0000,
    //8
    0b1111_0000,
    0b1001_0000,
    0b1111_0000,
    0b1001_0000,
    0b1111_0000,
    //9
    0b1111_0000,
    0b1001_0000,
    0b1111_0000,
    0b0001_0000,
    0b1111_0000,
    //A
    0b1111_0000,
    0b1001_0000,
    0b1111_0000,
    0b1001_0000,
    0b1001_0000,
    //B
    0b1110_0000,
    0b1001_0000,
    0b1110_0000,
    0b1001_0000,
    0b1110_0000,
    //C
    0b1111_0000,
    0b1000_0000,
    0b1000_0000,
    0b1000_0000,
    0b1111_0000,
    //D
    0b1110_0000,
    0b1001_0000,
    0b1001_0000,
    0b1001_0000,
    0b1110_0000,
    //E
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    //F
    0b1111_0000,
    0b1000_0000,
    0b1111_0000,
    0b1000_0000,
    0b1000_0000,
];

pub struct Chip8 {
    ram: [u8; 4096],
    pc: u16,
    v: [u8; 16],
    i: u16,
    stack: [u16; 16],
    sp: u8,
    delay_timer: u8,
    sound_timer: u8,
    display: [bool; 64 * 32],
    display_changed: bool,
    keys: [bool; 16_usize],
}

impl Chip8 {
    pub fn new() -> Self {
        let mut chip8 = Self {
            ram: [0; 4096],
            pc: 0x200,
            v: [0; 16],
            i: 0,
            stack: [0; 16],
            sp: 0_u8,
            delay_timer: 0,
            sound_timer: 0,
            display: [false; 64 * 32],
            display_changed: false,
            keys: [false; 16],
        };

        //Load font
        chip8.ram[0..FONT.len()].copy_from_slice(&FONT);

        chip8
    }
}
